(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-d10308dc"],{"0cc4":function(t,e,r){"use strict";r("b374")},"117f":function(t,e,r){"use strict";r("2c24")},"14e96":function(t,e,r){"use strict";r.d(e,"f",(function(){return n})),r.d(e,"d",(function(){return o})),r.d(e,"i",(function(){return s})),r.d(e,"b",(function(){return l})),r.d(e,"g",(function(){return i})),r.d(e,"e",(function(){return c})),r.d(e,"a",(function(){return u})),r.d(e,"h",(function(){return d})),r.d(e,"c",(function(){return p}));var a=r("1bab");function n(t,e=10){return Object(a["a"])({url:`/course/findAllPage/${t}/${e}`})}function o(t){return Object(a["a"])({url:"/course/"+t,method:"delete"})}function s(t){return Object(a["a"])({url:"/course/updateTitle",method:"put",data:t})}function l(t){return Object(a["a"])({url:"/course",method:"post",data:t})}function i(t){return Object(a["a"])({url:"/course/"+t})}function c(){return Object(a["a"])({url:"/course"})}function u(t){return Object(a["a"])({url:"/course/addCata",method:"post",header:{"Content-type":"multipart/form-data"},data:t})}function d(t){return Object(a["a"])({url:"/course/updateCata",method:"put",data:t})}function p(t){return Object(a["a"])({url:"/course/deleteCata/"+t,method:"delete"})}},"1bdd":function(t,e,r){"use strict";r("2058")},2058:function(t,e,r){},"25b1":function(t,e,r){"use strict";var a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"tao-table"},[r("el-table",{staticClass:"myTable",attrs:{data:t.tableData,"cell-style":{padding:"6px",border:"0.3px solid #E6E6E6"},"header-cell-style":{background:"#F2F2F2",border:"0.3px solid #E6E6E6",color:"#737573"},border:"","highlight-current-row":""}},[t.expand?r("el-table-column",{attrs:{type:"expand"}},[[r("el-form",{staticClass:"demo-table-expand",attrs:{"label-position":"left",inline:""}},[t._t("expand",[r("el-form-item",{attrs:{label:"商品名称"}},[r("div",[t._v("sdnvbgksdfbnsb")])])])],2)]],2):t._e(),t._l(t.title,(function(t,e){return r("el-table-column",{key:e,attrs:{align:"center",label:t.label,prop:t.prop,sortable:!!t.sort}})})),t.showTool?r("el-table-column",{attrs:{align:"center",label:"操作",width:t.toolWidth},scopedSlots:t._u([{key:"default",fn:function(e){return[t.showEdit?r("el-button",{staticClass:"t-btn",attrs:{type:"primary",plain:"",size:"mini"},on:{click:function(r){return t.handleEdit(e.$index,e.row)}}},[t._v("\n          "+t._s(t.editTxt)+"\n        ")]):t._e(),t.showOther?r("el-button",{staticClass:"t-btn",attrs:{type:"primary",plain:"",size:"mini"},on:{click:function(r){return t.handleOther(e.$index,e.row)}}},[t._v("\n          "+t._s(t.otherTxt)+"\n        ")]):t._e(),t.showDelete?r("el-button",{staticClass:"t-btn",attrs:{size:"mini",type:"danger"},on:{click:function(r){return t.handleDelete(e.$index,e.row)}}},[t._v("删除")]):t._e()]}}],null,!1,2313940382)}):t._e()],2),r("el-row",{staticClass:"path"},[r("el-col",{attrs:{span:24}},[r("div",{staticClass:"grid-content table-page"},[t._t("page",[r("el-pagination",{attrs:{background:"",layout:"total, prev, pager, next, jumper","hide-on-single-page":"","current-page":t.page,"page-size":t.pageSize,total:t.total},on:{"prev-click":t.lastPath,"next-click":t.nextPath,"current-change":t.currentPath}})])],2)])],1)],1)},n=[],o={props:{title:{type:Array},tableData:{type:Array},total:{type:Number,default:0},page:{type:Number,default:1},expand:{type:Boolean,default:!1},toolWidth:{type:Number,default:200},showTool:{type:Boolean,default:!0},showEdit:{type:Boolean,default:!0},showOther:{type:Boolean,default:!1},showDelete:{type:Boolean,default:!0},editTxt:{type:String,default:"编辑"},otherTxt:{type:String,default:"其它"},pageSize:{type:Number,default:10}},data(){return{tao:{name:"我的"}}},methods:{handleEdit(t,e){this.$emit("edit",{index:t,row:e})},handleOther(t,e){this.$emit("other",{index:t,row:e})},handleDelete(t,e){this.$emit("delete",{index:t,row:e})},lastPath(t){this.$emit("last",t)},nextPath(t){this.$emit("next",t)},currentPath(t){this.$emit("current",t)}},computed:{}},s=o,l=(r("0cc4"),r("2877")),i=Object(l["a"])(s,a,n,!1,null,"35ebeacc",null);e["a"]=i.exports},"2c24":function(t,e,r){},"4d59":function(t,e,r){"use strict";var a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"content"},[r("el-row",[r("el-col",{staticClass:"headCol",attrs:{span:24}},[r("div",{staticClass:"grid-content"},[t._t("module")],2)]),r("el-col",{staticClass:"myCol",attrs:{span:24}},[r("div",{staticClass:"grid-content"},[t._t("table")],2)])],1)],1)},n=[],o=r("25b1"),s=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:t.formInline}},[r("el-form-item",{attrs:{label:"审批人"}},[r("el-input",{attrs:{placeholder:"审批人"},model:{value:t.formInline.user,callback:function(e){t.$set(t.formInline,"user",e)},expression:"formInline.user"}})],1),r("el-form-item",[r("el-button",{attrs:{type:"primary"},on:{click:t.onSubmit}},[t._v("查询")])],1)],1)},l=[],i={data(){return{formInline:{user:"",region:""}}},methods:{onSubmit(){console.log("submit!")}}},c=i,u=r("2877"),d=Object(u["a"])(c,s,l,!1,null,"4c4c51b0",null),p=d.exports,h={components:{Table:o["a"],InputGroup:p}},f=h,m=(r("117f"),Object(u["a"])(f,a,n,!1,null,"1ffb9b9c",null));e["a"]=m.exports},"65d4":function(t,e,r){"use strict";r.r(e);var a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"test"},[r("Management",[r("div",{attrs:{slot:"module"},slot:"module"},[r("InputGroup",{attrs:{courseList:t.courseList},on:{selected:t.selected,append:t.append,search:t.search,showAll:t.showAll}})],1),r("div",{staticClass:"slotTable",attrs:{slot:"table"},slot:"table"},[r("Table",{attrs:{tableData:t.tableData,title:t.title,total:t.totalElements,page:t.page,showDelete:!1,toolWidth:100,editTxt:"评分"},on:{edit:t.handleEdit,current:t.currentPath}})],1)]),r("TestDialog",{attrs:{isShow:t.isShow,row:t.row},on:{confirm:t.confirm,cancel:t.cancel}})],1)},n=[],o=r("4d59"),s=r("25b1"),l=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:t.formInline}},[r("el-form-item",{attrs:{label:"课程"}},[r("el-select",{attrs:{multiple:"",placeholder:"请选择"},model:{value:t.selected,callback:function(e){t.selected=e},expression:"selected"}},t._l(t.courseList,(function(t){return r("el-option",{key:t.id,attrs:{label:t.title,value:t.id}})})),1),r("el-button",{staticClass:"one-btn",attrs:{type:"primary"},on:{click:t.selectCourse}},[t._v("查询")])],1),r("el-form-item",{attrs:{label:"混合查询"}},[r("div",{staticClass:"input-double"},[r("el-input",{attrs:{placeholder:"学号"},model:{value:t.formInline.userId,callback:function(e){t.$set(t.formInline,"userId","string"===typeof e?e.trim():e)},expression:"formInline.userId"}}),r("el-input",{attrs:{placeholder:"课程号"},model:{value:t.formInline.courseId,callback:function(e){t.$set(t.formInline,"courseId","string"===typeof e?e.trim():e)},expression:"formInline.courseId"}})],1)]),r("el-form-item",[r("el-button",{attrs:{type:"primary"},on:{click:t.append}},[t._v("查询")])],1)],1)},i=[],c={props:{courseList:{type:Array,default:()=>[]}},data(){return{formInline:{id:"",userId:"",courseId:""},selected:[]}},methods:{selectCourse(){this.selected.length&&(console.log(this.selected.map(t=>t)),this.$emit("selected",this.selected.map(t=>t)))},submit(t){this.formInline.id&&this.$emit("search",this.formInline)},append(){this.$emit("append",{userId:this.formInline.userId,courseId:this.formInline.courseId})}}},u=c,d=(r("7e7d"),r("2877")),p=Object(d["a"])(u,l,i,!1,null,"7f3954e2",null),h=p.exports,f=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("Dialog",{attrs:{isShow:t.isShow},on:{confirm:t.confirm,cancel:t.cancel}},[r("div",{attrs:{slot:"form"},slot:"form"},[r("el-form",{attrs:{"label-position":"right","label-width":"80px",model:t.row}},[r("el-form-item",{attrs:{label:"学号"}},[r("el-input",{model:{value:t.row.userId,callback:function(e){t.$set(t.row,"userId",e)},expression:"row.userId"}})],1),r("el-form-item",{attrs:{label:"课程号"}},[r("el-input",{model:{value:t.row.courseId,callback:function(e){t.$set(t.row,"courseId",e)},expression:"row.courseId"}})],1),t.row.edit?r("el-form-item",{attrs:{label:"评分"}},[r("el-input",{model:{value:t.row.teacherScope,callback:function(e){t.$set(t.row,"teacherScope",e)},expression:"row.teacherScope"}})],1):t._e()],1)],1)])},m=[],b=r("8c8a"),I={components:{Dialog:b["a"]},props:{isShow:{type:Boolean,default:!1},row:{type:Object,default(){return{studentId:"",courseId:""}}}},data(){return{}},methods:{confirm(){this.$emit("confirm",this.row)},cancel(){this.$emit("cancel")}}},g=I,w=(r("f1a2"),Object(d["a"])(g,f,m,!1,null,"0cb6c104",null)),y=w.exports,v=(r("5c96"),r("14e96")),$=r("7aa9"),O=r("1bab");function x(t,e=10,r){return Object(O["a"])({url:`course/getUserCourseByCourse/${t}/${e}?courseId=${r}`})}function j(t){let{courseId:e,userId:r,scope:a}=t;return Object(O["a"])({url:`/learnrecord/teacherScore?courseId=${e}&userId=${r}&scope=${a}`,method:"put"})}function _(t){return Object(O["a"])({url:"/test/"+t})}function C(t){let{courseId:e,studentId:r}=t;return Object(O["a"])({url:`/learnrecord/userCourseLearnRecord/${r}/${e}`})}var k=r("8d85"),S={components:{Management:o["a"],Table:s["a"],InputGroup:h,TestDialog:y},data(){return{tableData:[],courseData:{},studentData:{},title:[{label:"课程号",prop:"courseId"},{label:"课程名",prop:"title"},{label:"学号",prop:"userId"},{label:"呢称",prop:"nickName"},{label:"分数",prop:"scope",sort:!0},{label:"时长",prop:"duration",sort:!0},{label:"老师评分",prop:"teacherScope",sort:!0}],courseList:[],row:{},isShow:!1,totalElements:0,page:1,teacherId:"",courseId:""}},created(){this.teacherId=this.$store.getters.getUserId.id,this.init()},methods:{async getTeacherCourse(t){console.log(t),this.courseList=t},async init(t){let e=await Promise.all([Object(v["e"])(),Object(k["d"])()]);this.getTeacherCourse(e[0].data),this.processing(e[0].data,e[1].data.student)},async testByPathAndSize(t,e,r=10){console.log(t);const a=await x(e,r,t);console.log(a),this.page=e,this.totalElements=a.data.totalElements,this.setTest(a.data.content)},selected(t){this.courseId=t,this.testByPathAndSize(t.map(t=>t),1)},setTest(t){let e=this.courseData,r=this.studentData,a=null,n=null;t.forEach(t=>{a=e[t.courseId],n=r[t.userId],a&&(t.title=a),n&&(t.nickName=n)}),this.tableData=t},processing(t,e){t.forEach(t=>{this.courseData[t.id]=t.title}),e.forEach(t=>{this.studentData[t.id]=t.username})},handleEdit(t){this.row={...t.row,edit:!0},this.isShow=!0},async confirm(t){if(this.closeDialog(),t.edit){let e=await j({courseId:t.courseId,userId:+t.userId,scope:+t.teacherScope});e.flag?(Object($["a"])("修改","success"),this.testByPathAndSize(this.courseId,1)):Object($["a"])("修改","error")}},async search(t){let e=await _(t.id);e.flag?(this.tableData=[e.data],this.totalElements=this.tableData.length,Object($["a"])("查询")):Object($["a"])("查询","error")},cancel(){this.closeDialog()},closeDialog(){this.isShow=!1},currentPath(t){this.testByPathAndSize(this.courseId,t)},async append(t){this.row={};let e=await C({courseId:t.courseId,studentId:t.userId});if(e.flag){let t=e.data;this.setTest([{courseId:t.courseId,duration:t.duration,nickName:t.nickName,scope:t.scope,teacherScope:"",title:t.title,userId:t.studentId}]),Object($["a"])("查询")}else Object($["a"])("查询","error")},showAll(){this.testByPathAndSize(this.courseId,1)}},computed:{}},D=S,E=(r("1bdd"),Object(d["a"])(D,a,n,!1,null,null,null));e["default"]=E.exports},"7e7d":function(t,e,r){"use strict";r("fb27")},"8d85":function(t,e,r){"use strict";r.d(e,"e",(function(){return n})),r.d(e,"d",(function(){return o})),r.d(e,"c",(function(){return s})),r.d(e,"g",(function(){return l})),r.d(e,"a",(function(){return i})),r.d(e,"b",(function(){return c})),r.d(e,"f",(function(){return u}));var a=r("1bab");function n(t,e=10){return Object(a["a"])({url:`/user/all/${t}/${e}`})}function o(){return Object(a["a"])({url:"/user/contacts",method:"post"})}function s(t){return Object(a["a"])({url:"/user/"+t,method:"delete"})}function l(t){return Object(a["a"])({url:"/user",method:"put",data:t})}function i(t){let{userId:e,roleIds:r}=t;return Object(a["a"])({url:`authority/giveRole2User?userId=${e}&roleIds=${r}`,method:"post"})}function c(t){let e=0==t.type?"/user/addAdmin":"/user/addTeacher";return Object(a["a"])({url:e,method:"post",data:t})}function u(t){return Object(a["a"])({url:"/user/"+t})}},a2be:function(t,e,r){},b374:function(t,e,r){},f1a2:function(t,e,r){"use strict";r("a2be")},fb27:function(t,e,r){}}]);
//# sourceMappingURL=chunk-d10308dc.b1f70ab7.js.map