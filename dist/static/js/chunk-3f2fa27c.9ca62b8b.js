(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3f2fa27c"],{1451:function(e,t,r){},"14e96":function(e,t,r){"use strict";r.d(t,"f",(function(){return o})),r.d(t,"d",(function(){return n})),r.d(t,"i",(function(){return s})),r.d(t,"b",(function(){return l})),r.d(t,"g",(function(){return i})),r.d(t,"e",(function(){return c})),r.d(t,"a",(function(){return u})),r.d(t,"h",(function(){return d})),r.d(t,"c",(function(){return p}));var a=r("1bab");function o(e,t=10){return Object(a["a"])({url:`/course/findAllPage/${e}/${t}`})}function n(e){return Object(a["a"])({url:"/course/"+e,method:"delete"})}function s(e){return Object(a["a"])({url:"/course/updateTitle",method:"put",data:e})}function l(e){return Object(a["a"])({url:"/course",method:"post",data:e})}function i(e){return Object(a["a"])({url:"/course/"+e})}function c(){return Object(a["a"])({url:"/course"})}function u(e){return Object(a["a"])({url:"/course/addCata",method:"post",header:{"Content-type":"multipart/form-data"},data:e})}function d(e){return Object(a["a"])({url:"/course/updateCata",method:"put",data:e})}function p(e){return Object(a["a"])({url:"/course/deleteCata/"+e,method:"delete"})}},"1bdd":function(e,t,r){"use strict";r("2058")},2058:function(e,t,r){},"25b1":function(e,t,r){"use strict";var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"tao-table"},[r("el-table",{staticClass:"myTable",attrs:{data:e.tableData,"cell-style":{padding:"6px",border:"0.3px solid #E6E6E6"},"header-cell-style":{background:"#F2F2F2",border:"0.3px solid #E6E6E6",color:"#737573"},border:"","highlight-current-row":""}},[e.expand?r("el-table-column",{attrs:{type:"expand"}},[[r("el-form",{staticClass:"demo-table-expand",attrs:{"label-position":"left",inline:""}},[e._t("expand",[r("el-form-item",{attrs:{label:"商品名称"}},[r("div",[e._v("sdnvbgksdfbnsb")])])])],2)]],2):e._e(),e._l(e.title,(function(e,t){return r("el-table-column",{key:t,attrs:{align:"center",label:e.label,prop:e.prop,sortable:!!e.sort}})})),e.showTool?r("el-table-column",{attrs:{align:"center",label:"操作",width:e.toolWidth},scopedSlots:e._u([{key:"default",fn:function(t){return[e.showEdit?r("el-button",{attrs:{type:"primary",plain:"",size:"mini"},on:{click:function(r){return e.handleEdit(t.$index,t.row)}}},[e._v("\n          "+e._s(e.editTxt)+"\n        ")]):e._e(),e.showDelete?r("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(r){return e.handleDelete(t.$index,t.row)}}},[e._v("删除")]):e._e()]}}],null,!1,2199528418)}):e._e()],2),r("el-row",{staticClass:"path"},[r("el-col",{attrs:{span:24}},[r("div",{staticClass:"grid-content table-page"},[e._t("page",[r("el-pagination",{attrs:{background:"",layout:"total, prev, pager, next, jumper","hide-on-single-page":"","current-page":e.page,"page-size":e.pageSize,total:e.total},on:{"prev-click":e.lastPath,"next-click":e.nextPath,"current-change":e.currentPath}})])],2)])],1)],1)},o=[],n={props:{title:{type:Array},tableData:{type:Array},total:{type:Number,default:0},page:{type:Number,default:1},expand:{type:Boolean,default:!1},toolWidth:{type:Number,default:200},showTool:{type:Boolean,default:!0},showEdit:{type:Boolean,default:!0},showDelete:{type:Boolean,default:!0},editTxt:{type:String,default:"编辑"},pageSize:{type:Number,default:10}},data(){return{tao:{name:"我的"}}},methods:{handleEdit(e,t){this.$emit("edit",{index:e,row:t})},handleDelete(e,t){this.$emit("delete",{index:e,row:t})},lastPath(e){this.$emit("last",e)},nextPath(e){this.$emit("next",e)},currentPath(e){this.$emit("current",e)}},computed:{}},s=n,l=(r("9e1d"),r("2877")),i=Object(l["a"])(s,a,o,!1,null,"65e74063",null);t["a"]=i.exports},"42ef":function(e,t,r){"use strict";r("95ae")},"4d59":function(e,t,r){"use strict";var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"content"},[r("el-row",[r("el-col",{staticClass:"headCol",attrs:{span:24}},[r("div",{staticClass:"grid-content"},[e._t("module")],2)]),r("el-col",{staticClass:"myCol",attrs:{span:24}},[r("div",{staticClass:"grid-content"},[e._t("table")],2)])],1)],1)},o=[],n=r("25b1"),s=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.formInline}},[r("el-form-item",{attrs:{label:"审批人"}},[r("el-input",{attrs:{placeholder:"审批人"},model:{value:e.formInline.user,callback:function(t){e.$set(e.formInline,"user",t)},expression:"formInline.user"}})],1),r("el-form-item",[r("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("查询")])],1)],1)},l=[],i={data(){return{formInline:{user:"",region:""}}},methods:{onSubmit(){console.log("submit!")}}},c=i,u=r("2877"),d=Object(u["a"])(c,s,l,!1,null,"4c4c51b0",null),p=d.exports,h={components:{Table:n["a"],InputGroup:p}},f=h,m=(r("42ef"),Object(u["a"])(f,a,o,!1,null,"ee9fc8a4",null));t["a"]=m.exports},"65d4":function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"test"},[r("Management",[r("div",{attrs:{slot:"module"},slot:"module"},[r("InputGroup",{attrs:{courseList:e.courseList},on:{selected:e.selected,append:e.append,search:e.search,showAll:e.showAll}})],1),r("div",{staticClass:"slotTable",attrs:{slot:"table"},slot:"table"},[r("Table",{attrs:{tableData:e.tableData,title:e.title,total:e.totalElements,page:e.page,showDelete:!1,toolWidth:100,editTxt:"评分"},on:{edit:e.handleEdit,current:e.currentPath}})],1)]),r("TestDialog",{attrs:{isShow:e.isShow,row:e.row},on:{confirm:e.confirm,cancel:e.cancel}})],1)},o=[],n=r("4d59"),s=r("25b1"),l=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.formInline}},[r("el-form-item",{attrs:{label:"选课课程"}},[r("el-select",{attrs:{placeholder:"请选择"},on:{change:e.selectCourse},model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}},e._l(e.courseList,(function(e){return r("el-option",{key:e.id,attrs:{label:e.title,value:e.id}})})),1)],1),r("el-form-item",[r("el-button",{attrs:{type:"primary"},on:{click:e.append}},[e._v("混合查询")])],1)],1)},i=[],c={props:{courseList:{type:Array,default:()=>[]}},data(){return{formInline:{id:""},selected:""}},methods:{selectCourse(e){this.$emit("selected",e)},submit(e){this.formInline.id&&this.$emit("search",this.formInline)},append(){this.$emit("append")}}},u=c,d=r("2877"),p=Object(d["a"])(u,l,i,!1,null,"51bca4db",null),h=p.exports,f=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("Dialog",{attrs:{isShow:e.isShow},on:{confirm:e.confirm,cancel:e.cancel}},[r("div",{attrs:{slot:"form"},slot:"form"},[r("el-form",{attrs:{"label-position":"right","label-width":"80px",model:e.row}},[r("el-form-item",{attrs:{label:"学号"}},[r("el-input",{model:{value:e.row.userId,callback:function(t){e.$set(e.row,"userId",t)},expression:"row.userId"}})],1),r("el-form-item",{attrs:{label:"课程号"}},[r("el-input",{model:{value:e.row.courseId,callback:function(t){e.$set(e.row,"courseId",t)},expression:"row.courseId"}})],1),e.row.edit?r("el-form-item",{attrs:{label:"评分"}},[r("el-input",{model:{value:e.row.teacherScope,callback:function(t){e.$set(e.row,"teacherScope",t)},expression:"row.teacherScope"}})],1):e._e()],1)],1)])},m=[],b=r("8c8a"),g={components:{Dialog:b["a"]},props:{isShow:{type:Boolean,default:!1},row:{type:Object,default(){return{studentId:"",courseId:""}}}},data(){return{}},methods:{confirm(){this.$emit("confirm",this.row)},cancel(){this.$emit("cancel")}}},w=g,I=(r("f1a2"),Object(d["a"])(w,f,m,!1,null,"0cb6c104",null)),y=I.exports,v=(r("5c96"),r("14e96")),$=r("7aa9"),j=r("1bab");function O(e,t=10,r){return Object(j["a"])({url:`course/getUserCourseByCourse/${e}/${t}?courseId=${r}`})}function x(e){let{courseId:t,userId:r,scope:a}=e;return Object(j["a"])({url:`/learnrecord/teacherScore?courseId=${t}&userId=${r}&scope=${a}`,method:"put"})}function _(e){return Object(j["a"])({url:"/test/"+e})}function C(e){return Object(j["a"])({url:"/course/getCourseByTeacher?teacherId="+e})}function S(e){let{courseId:t,studentId:r}=e;return Object(j["a"])({url:`/learnrecord/userCourseLearnRecord/${r}/${t}`})}var D=r("8d85"),E={components:{Management:n["a"],Table:s["a"],InputGroup:h,TestDialog:y},data(){return{tableData:[],courseData:{},studentData:{},title:[{label:"课程号",prop:"courseId"},{label:"课程名",prop:"title"},{label:"学号",prop:"userId"},{label:"呢称",prop:"nickName"},{label:"分数",prop:"scope",sort:!0},{label:"时长",prop:"duration",sort:!0},{label:"老师评分",prop:"teacherScope",sort:!0}],courseList:[],row:{},isShow:!1,totalElements:0,page:1,teacherId:"",courseId:""}},created(){this.teacherId=this.$store.getters.getUserId.id,this.getTeacherCourse(this.teacherId),this.init()},methods:{async getTeacherCourse(e){let t=await C(e);this.courseList=t.data},async init(e){let t=await Promise.all([Object(v["e"])(),Object(D["d"])()]);console.log(t),this.processing(t[0].data,t[1].data.student)},async testByPathAndSize(e,t,r=10){const a=await O(t,r,e);console.log(a),this.page=t,this.totalElements=a.data.totalElements,this.setTest(a.data.content)},selected(e){this.courseId=e,this.testByPathAndSize(e,1)},setTest(e){console.log(e);let t=this.courseData,r=this.studentData,a=null,o=null;e.forEach(e=>{a=t[e.courseId],o=r[e.userId],a&&(e.title=a),o&&(e.nickName=o)}),this.tableData=e},processing(e,t){e.forEach(e=>{this.courseData[e.id]=e.title}),t.forEach(e=>{this.studentData[e.id]=e.username})},handleEdit(e){this.row={...e.row,edit:!0},this.isShow=!0},async confirm(e){if(this.closeDialog(),e.edit){let t=await x({courseId:e.courseId,userId:+e.userId,scope:+e.teacherScope});t.flag?(Object($["a"])("修改","success"),this.testByPathAndSize(this.courseId,1)):Object($["a"])("修改","error")}else{let e=await S({courseId:0x1299d2e6beead000,studentId:136531351});if(e.flag){let t=e.data;console.log(t),this.setTest([{courseId:t.courseId,duration:t.duration,nickName:t.nickName,scope:t.scope,teacherScope:"",title:t.title,userId:t.studentId}])}else Object($["a"])("查询","error")}},async search(e){let t=await _(e.id);console.log(t),t.flag?(this.tableData=[t.data],this.totalElements=this.tableData.length,Object($["a"])("查询")):Object($["a"])("查询","error")},cancel(){this.closeDialog()},closeDialog(){this.isShow=!1},currentPath(e){this.testByPathAndSize(this.courseId,e)},append(){this.row={},this.isShow=!0},showAll(){this.testByPathAndSize(this.courseId,1)}},computed:{}},k=E,T=(r("1bdd"),Object(d["a"])(k,a,o,!1,null,null,null));t["default"]=T.exports},"8d85":function(e,t,r){"use strict";r.d(t,"e",(function(){return o})),r.d(t,"d",(function(){return n})),r.d(t,"c",(function(){return s})),r.d(t,"a",(function(){return l})),r.d(t,"b",(function(){return i})),r.d(t,"f",(function(){return c}));var a=r("1bab");function o(e,t=10){return Object(a["a"])({url:`/user/all/${e}/${t}`})}function n(){return Object(a["a"])({url:"/user/contacts",method:"post"})}function s(e){return Object(a["a"])({url:"/user/"+e,method:"delete"})}function l(e){let{userId:t,roleIds:r}=e;return Object(a["a"])({url:`authority/giveRole2User?userId=${t}&roleIds=${r}`,method:"post"})}function i(e){return Object(a["a"])({url:"/user",method:"post",data:e})}function c(e){return Object(a["a"])({url:"/user/"+e})}},"95ae":function(e,t,r){},"9e1d":function(e,t,r){"use strict";r("1451")},a2be:function(e,t,r){},f1a2:function(e,t,r){"use strict";r("a2be")}}]);
//# sourceMappingURL=chunk-3f2fa27c.9ca62b8b.js.map