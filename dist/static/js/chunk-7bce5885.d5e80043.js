(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7bce5885"],{1451:function(t,e,a){},"14e96":function(t,e,a){"use strict";a.d(e,"f",(function(){return o})),a.d(e,"d",(function(){return r})),a.d(e,"i",(function(){return n})),a.d(e,"b",(function(){return i})),a.d(e,"g",(function(){return s})),a.d(e,"e",(function(){return c})),a.d(e,"a",(function(){return u})),a.d(e,"h",(function(){return d})),a.d(e,"c",(function(){return p}));var l=a("1bab");function o(t,e=10){return Object(l["a"])({url:`/course/findAllPage/${t}/${e}`})}function r(t){return Object(l["a"])({url:"/course/"+t,method:"delete"})}function n(t){return Object(l["a"])({url:"/course/updateTitle",method:"put",data:t})}function i(t){return Object(l["a"])({url:"/course",method:"post",data:t})}function s(t){return Object(l["a"])({url:"/course/"+t})}function c(){return Object(l["a"])({url:"/course"})}function u(t){return Object(l["a"])({url:"/course/addCata",method:"post",header:{"Content-type":"multipart/form-data"},data:t})}function d(t){return Object(l["a"])({url:"/course/updateCata",method:"put",data:t})}function p(t){return Object(l["a"])({url:"/course/deleteCata/"+t,method:"delete"})}},"25b1":function(t,e,a){"use strict";var l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"tao-table"},[a("el-table",{staticClass:"myTable",attrs:{data:t.tableData,"cell-style":{padding:"6px",border:"0.3px solid #E6E6E6"},"header-cell-style":{background:"#F2F2F2",border:"0.3px solid #E6E6E6",color:"#737573"},border:"","highlight-current-row":""}},[t.expand?a("el-table-column",{attrs:{type:"expand"}},[[a("el-form",{staticClass:"demo-table-expand",attrs:{"label-position":"left",inline:""}},[t._t("expand",[a("el-form-item",{attrs:{label:"商品名称"}},[a("div",[t._v("sdnvbgksdfbnsb")])])])],2)]],2):t._e(),t._l(t.title,(function(t,e){return a("el-table-column",{key:e,attrs:{align:"center",label:t.label,prop:t.prop,sortable:!!t.sort}})})),t.showTool?a("el-table-column",{attrs:{align:"center",label:"操作",width:t.toolWidth},scopedSlots:t._u([{key:"default",fn:function(e){return[t.showEdit?a("el-button",{attrs:{type:"primary",plain:"",size:"mini"},on:{click:function(a){return t.handleEdit(e.$index,e.row)}}},[t._v("\n          "+t._s(t.editTxt)+"\n        ")]):t._e(),t.showDelete?a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){return t.handleDelete(e.$index,e.row)}}},[t._v("删除")]):t._e()]}}],null,!1,2199528418)}):t._e()],2),a("el-row",{staticClass:"path"},[a("el-col",{attrs:{span:24}},[a("div",{staticClass:"grid-content table-page"},[t._t("page",[a("el-pagination",{attrs:{background:"",layout:"total, prev, pager, next, jumper","hide-on-single-page":"","current-page":t.page,"page-size":t.pageSize,total:t.total},on:{"prev-click":t.lastPath,"next-click":t.nextPath,"current-change":t.currentPath}})])],2)])],1)],1)},o=[],r={props:{title:{type:Array},tableData:{type:Array},total:{type:Number,default:0},page:{type:Number,default:1},expand:{type:Boolean,default:!1},toolWidth:{type:Number,default:200},showTool:{type:Boolean,default:!0},showEdit:{type:Boolean,default:!0},showDelete:{type:Boolean,default:!0},editTxt:{type:String,default:"编辑"},pageSize:{type:Number,default:10}},data(){return{tao:{name:"我的"}}},methods:{handleEdit(t,e){this.$emit("edit",{index:t,row:e})},handleDelete(t,e){this.$emit("delete",{index:t,row:e})},lastPath(t){this.$emit("last",t)},nextPath(t){this.$emit("next",t)},currentPath(t){this.$emit("current",t)}},computed:{}},n=r,i=(a("9e1d"),a("2877")),s=Object(i["a"])(n,l,o,!1,null,"65e74063",null);e["a"]=s.exports},4080:function(t,e,a){"use strict";a("9908")},"42ef":function(t,e,a){"use strict";a("95ae")},"4d59":function(t,e,a){"use strict";var l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content"},[a("el-row",[a("el-col",{staticClass:"headCol",attrs:{span:24}},[a("div",{staticClass:"grid-content"},[t._t("module")],2)]),a("el-col",{staticClass:"myCol",attrs:{span:24}},[a("div",{staticClass:"grid-content"},[t._t("table")],2)])],1)],1)},o=[],r=a("25b1"),n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:t.formInline}},[a("el-form-item",{attrs:{label:"审批人"}},[a("el-input",{attrs:{placeholder:"审批人"},model:{value:t.formInline.user,callback:function(e){t.$set(t.formInline,"user",e)},expression:"formInline.user"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:t.onSubmit}},[t._v("查询")])],1)],1)},i=[],s={data(){return{formInline:{user:"",region:""}}},methods:{onSubmit(){console.log("submit!")}}},c=s,u=a("2877"),d=Object(u["a"])(c,n,i,!1,null,"4c4c51b0",null),p=d.exports,m={components:{Table:r["a"],InputGroup:p}},f=m,h=(a("42ef"),Object(u["a"])(f,l,o,!1,null,"ee9fc8a4",null));e["a"]=h.exports},"56b2":function(t,e,a){},"5c3b":function(t,e,a){"use strict";a.r(e);var l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"course"},[a("Management",[a("div",{attrs:{slot:"module"},slot:"module"},[a("InputGroup",{on:{append:t.append,search:t.search,showAll:t.showAll}})],1),a("div",{staticClass:"slotTable",attrs:{slot:"table"},slot:"table"},[a("ExpandTable",{attrs:{tableData:t.tableData,title:t.title,total:t.totalElements,page:t.page},on:{edit:t.handleEdit,editCata:t.editCata,delete:t.handleDelete,current:t.currentPath}})],1)]),a("CourseDialog",{attrs:{isShow:t.isShow,row:t.row,category:t.categoryData},on:{confirm:t.confirm,cancel:t.cancel}}),a("DetailDialog",{ref:"detailDialog",attrs:{isShowDetail:t.isShowDetail},on:{cancel:t.cancel}})],1)},o=[],r=a("4d59"),n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:t.formInline}},[a("el-form-item",{attrs:{label:"id"}},[a("el-input",{attrs:{placeholder:"id"},model:{value:t.formInline.id,callback:function(e){t.$set(t.formInline,"id","string"===typeof e?e.trim():e)},expression:"formInline.id"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:t.submit}},[t._v("查询")])],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:t.append}},[t._v("添加课程")])],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:t.showAll}},[t._v("显示全部")])],1)],1)},i=[],s={data(){return{formInline:{id:""}}},methods:{submit(t){this.formInline.id&&this.$emit("search",this.formInline)},append(){this.$emit("append")},showAll(){this.formInline.id="",this.$emit("showAll")}}},c=s,u=a("2877"),d=Object(u["a"])(c,n,i,!1,null,"27965675",null),p=d.exports,m=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"tao-table"},[a("el-table",{staticClass:"myTable",attrs:{data:t.tableData,"cell-style":{padding:"6px",border:"0.3px solid #E6E6E6"},"header-cell-style":{background:"#F2F2F2",border:"0.3px solid #E6E6E6",color:"#737573"},border:"","highlight-current-row":""}},[t.expand?a("el-table-column",{attrs:{type:"expand"}},[[a("el-form",{staticClass:"demo-table-expand",attrs:{"label-position":"left",inline:""}},[t._t("expand",[a("el-form-item",{attrs:{label:"商品名称"}},[a("div",[t._v("sdnvbgksdfbnsb")])])])],2)]],2):t._e(),t._l(t.title,(function(t,e){return a("el-table-column",{key:e,attrs:{align:"center",label:t.label,prop:t.prop}})})),a("el-table-column",{attrs:{align:"center",label:"操作",width:"250"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"primary",plain:"",size:"mini"},on:{click:function(a){return t.handleEdit(e.$index,e.row)}}},[t._v("\n          编辑\n        ")]),a("el-button",{attrs:{type:"primary",plain:"",size:"mini"},on:{click:function(a){return t.EditCata(e.$index,e.row)}}},[t._v("\n          目录\n        ")]),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){return t.handleDelete(e.$index,e.row)}}},[t._v("删除")])]}}])})],2),a("el-row",{staticClass:"path"},[a("el-col",{attrs:{span:24}},[a("div",{staticClass:"grid-content table-page"},[t._t("page",[a("el-pagination",{attrs:{background:"",layout:"total, prev, pager, next, jumper","hide-on-single-page":"","current-page":t.page,total:t.total},on:{"prev-click":t.lastPath,"next-click":t.nextPath,"current-change":t.currentPath}})])],2)])],1)],1)},f=[],h={props:{title:{type:Array},tableData:{type:Array},total:{type:Number,default:0},page:{type:Number,default:1},expand:{type:Boolean,default:!1}},data(){return{tao:{name:"我的"}}},methods:{handleEdit(t,e){this.$emit("edit",{index:t,row:e})},EditCata(t,e){this.$emit("editCata",{index:t,row:e})},handleDelete(t,e){this.$emit("delete",{index:t,row:e})},lastPath(t){this.$emit("last",t)},nextPath(t){this.$emit("next",t)},currentPath(t){this.$emit("current",t)}},computed:{}},b=h,g=(a("d825"),Object(u["a"])(b,m,f,!1,null,"119742bc",null)),w=g.exports,y=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("Dialog",{attrs:{isShow:t.isShow},on:{confirm:t.confirm,cancel:t.cancel}},[a("div",{attrs:{slot:"form"},slot:"form"},[a("el-form",{attrs:{"label-position":"right","label-width":"80px",model:t.row}},[a("el-form-item",{attrs:{label:"课程名称"}},[a("el-input",{model:{value:t.row.title,callback:function(e){t.$set(t.row,"title",e)},expression:"row.title"}})],1),a("el-form-item",{attrs:{label:"任课老师"}},[a("el-input",{model:{value:t.row.teacher,callback:function(e){t.$set(t.row,"teacher",e)},expression:"row.teacher"}})],1),a("el-form-item",{attrs:{label:"课程分类"}},[a("el-select",{attrs:{filterable:"",placeholder:"请选择课程分类"},model:{value:t.row.categoryId,callback:function(e){t.$set(t.row,"categoryId",e)},expression:"row.categoryId"}},t._l(t.category,(function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})})),1)],1),a("el-form-item",{attrs:{label:"描述"}},[a("el-input",{model:{value:t.row.description,callback:function(e){t.$set(t.row,"description",e)},expression:"row.description"}})],1)],1)],1)])},x=[],v=a("8c8a"),C={components:{Dialog:v["a"]},props:{isShow:{type:Boolean,default:!1},row:{type:Object,default(){return{categoryId:"",description:"",teacher:"",title:""}}},category:{type:Array,default(){return[]}}},data(){return{}},methods:{confirm(){this.$emit("confirm",this.row)},cancel(){this.$emit("cancel")}}},D=C,j=(a("4080"),Object(u["a"])(D,y,x,!1,null,null,null)),$=j.exports,O=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("Dialog",{attrs:{isShow:t.isShowCata},on:{confirm:t.confirm,cancel:t.cancel}},[a("div",{attrs:{slot:"form"},slot:"form"},[a("el-form",{ref:"cate",attrs:{model:t.row,"label-position":"right","label-width":"80px"}},[a("el-form-item",{attrs:{label:"名称",prop:"name"}},[a("el-input",{model:{value:t.row.name,callback:function(e){t.$set(t.row,"name",e)},expression:"row.name"}})],1),a("el-form-item",{attrs:{label:"描述",prop:"description"}},[a("el-input",{model:{value:t.row.description,callback:function(e){t.$set(t.row,"description",e)},expression:"row.description"}})],1)],1)],1)])},_=[],S={components:{Dialog:v["a"]},props:{isShowCata:{type:Boolean,default:!1},row:{type:Object,default(){return{}}}},data(){return{}},methods:{confirm(){this.$emit("confirm",this.row)},cancel(){this.$emit("cancel")}}},I=S,k=Object(u["a"])(I,O,_,!1,null,"33ed4419",null),E=k.exports,B=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("Dialog",{attrs:{width:"95%",top:"20px",isShow:t.isShowDetail}},[a("div",{attrs:{slot:"form"},slot:"form"},[a("Table",{attrs:{tableData:t.tableData,title:t.title},on:{edit:t.handleEdit,delete:t.handleDelete}})],1),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:t.cancel}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:t.appendCata}},[t._v("添加目录")])],1)]),a("Dialog",{attrs:{isShow:t.isShowMini,appendToBody:!0},on:{cancel:t.cancelCata,confirm:t.confirmCata}},[a("div",{attrs:{slot:"form"},slot:"form"},[a("el-form",{ref:"cate",attrs:{model:t.row,"label-position":"right","label-width":"80px"}},[a("el-form-item",{attrs:{label:"标题",prop:"name"}},[a("el-input",{model:{value:t.row.name,callback:function(e){t.$set(t.row,"name",e)},expression:"row.name"}})],1),a("el-form-item",{attrs:{label:"学分",prop:"scope"}},[a("el-input",{model:{value:t.row.scope,callback:function(e){t.$set(t.row,"scope",e)},expression:"row.scope"}})],1),a("el-form-item",{attrs:{label:"链接",prop:"url"}},[a("el-input",{model:{value:t.row.url,callback:function(e){t.$set(t.row,"url",e)},expression:"row.url"}})],1),a("el-form-item",{attrs:{label:"文件"}},[a("input",{ref:"file",attrs:{type:"file",name:"file"}})])],1)],1)])],1)},P=[],A=a("25b1"),T=a("7aa9"),z=a("5c96"),N=a("b050"),M=a("14e96"),F={components:{Dialog:v["a"],Table:A["a"]},props:{isShowDetail:{type:Boolean,default:!1}},data(){return{courseId:"",tableData:[],title:[{label:"ID",prop:"id"},{label:"名称",prop:"name"},{label:"学分",prop:"scope"},{label:"地址",prop:"url"},{label:"更新时间",prop:"lastUpdataTime"}],row:{file:"",name:"",scope:"",url:""},isShowMini:!1,fileList:[]}},methods:{async getCatalogueByCourseId(t){this.courseId=t;let e=await Object(M["g"])(t);this.tableData=e.data.catalogs,console.log(e.data)},handleEdit(t){this.isShowMini=!0,this.row={...t.row,edit:!0}},handleDelete(t){z["MessageBox"].confirm("您确定删除这一行吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning",center:!0}).then(async e=>{let a=await Object(M["c"])(t.row.id);console.log(a),a.flag?(this.getCatalogueByCourseId(this.courseId),Object(T["a"])("删除")):Object(T["a"])("删除","error")}).catch(t=>{})},cancelCata(){this.closeCata()},async confirmCata(t=this.row){if(this.closeCata(),t.edit){const e=await Object(M["h"])({id:t.id,courseId:t.courseId,name:t.name,scope:t.scope,url:t.url});console.log(e),e.flag?(this.getCatalogueByCourseId(this.courseId),Object(T["a"])("修改")):Object(T["a"])("修改","error")}else{let e=this.$refs.file.files[0],a=new FormData;a.append("courseId",this.courseId),a.append("file",e);for(let o in t)a.append(o,t[o]);let l=await Object(M["a"])(a);console.log(l),l.flag?(this.getCatalogueByCourseId(this.courseId),Object(T["a"])("添加")):Object(T["a"])("添加","error")}},closeCata(){this.isShowMini=!1},appendCata(){this.row={file:"",name:"",scope:"",url:""},this.$refs.file&&(this.$refs.file.value=""),this.isShowMini=!0},cancel(){this.$emit("cancel")}}},G=F,J=Object(u["a"])(G,B,P,!1,null,"efa7e262",null),W=J.exports,L={components:{Management:r["a"],ExpandTable:w,InputGroup:p,CourseDialog:$,CataDialog:E,DetailDialog:W},data(){return{tableData:[],title:[{label:"课程号",prop:"id"},{label:"课程名称",prop:"title"},{label:"任课老师",prop:"teacher"},{label:"课程介绍",prop:"description"},{label:"课程类型",prop:"categoryName"},{label:"学分",prop:"allScope"},{label:"用户",prop:"users"}],row:{},isShow:!1,isShowCata:!1,isShowDetail:!1,totalElements:0,categoryData:[],page:1}},created(){this.courseByPathAndSize(1)},methods:{async courseByPathAndSize(t,e=10){const a=await Object(M["f"])(t,e);if(this.totalElements=a.data.totalElements,this.page=t,a.data.content.length>0){const t=await this.getCategoryNameById(a.data.content);this.tableData=a.data.content.map(e=>(e.categoryName=t.find(t=>e.categoryId==t.id).name,e))}},editCata(t){this.row={...t.row,edit:!0},this.isShowDetail=!0,this.$refs.detailDialog.getCatalogueByCourseId(t.row.id)},handleEdit(t){this.row={...t.row,edit:!0},this.isShow=!0},handleDelete(t){z["MessageBox"].confirm("您确定删除这一行吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning",center:!0}).then(async e=>{let a=await Object(M["d"])(t.row.id);a.flag?(this.courseByPathAndSize(1),Object(T["a"])("删除")):Object(T["a"])("删除","error")}).catch(t=>{})},confirmDetail(){this.closeDialog()},async confirm(t){if(this.closeDialog(),t.edit){const e=await Object(M["i"])({id:t.id,categoryId:+t.categoryId,description:t.description,title:t.title,teacher:t.teacher});e.flag?(this.courseByPathAndSize(1),Object(T["a"])("修改")):Object(T["a"])("修改","error")}else{let e=new FormData;for(let l in t)e.append(l,t[l]);const a=await Object(M["b"])(e);a.flag?(this.courseByPathAndSize(1),Object(T["a"])("添加")):Object(T["a"])("添加","error")}},async search(t){let e=await Object(M["g"])(t.id);e.flag?(this.tableData=[e.data],this.totalElements=this.tableData.length,Object(T["a"])("查询")):Object(T["a"])("查询","error")},cancel(){this.closeDialog()},closeDialog(){this.isShow=!1,this.isShowCata=!1,this.isShowDetail=!1},currentPath(t){this.courseByPathAndSize(t)},append(){this.row={},this.isShow=!0},appendCata(){this.isShowCata=!0},confirmCate(){},showAll(){this.courseByPathAndSize(1)},async getCategoryNameById(t){const e=(await Object(N["c"])()).data;return this.categoryData=[...e],t.map(t=>t.categoryId).filter((t,e,a)=>a.indexOf(t,0)===e).map(t=>{let a=e.find(e=>e.id==t);return{id:t,name:a?a.name:""}})}}},U=L,q=(a("8e22"),Object(u["a"])(U,l,o,!1,null,"a33c7184",null));e["default"]=q.exports},"8e22":function(t,e,a){"use strict";a("56b2")},"95ae":function(t,e,a){},9908:function(t,e,a){},"9e1d":function(t,e,a){"use strict";a("1451")},b050:function(t,e,a){"use strict";a.d(e,"d",(function(){return o})),a.d(e,"b",(function(){return r})),a.d(e,"f",(function(){return n})),a.d(e,"a",(function(){return i})),a.d(e,"e",(function(){return s})),a.d(e,"c",(function(){return c}));var l=a("1bab");function o(t,e=10){return Object(l["a"])({url:`/category/all/${t}/${e}`})}function r(t){return Object(l["a"])({url:"/category/"+t,method:"delete"})}function n(t){return Object(l["a"])({url:"/category",method:"put",data:t})}function i(t){return Object(l["a"])({url:"/category",method:"post",data:t})}function s(t){return Object(l["a"])({url:"/category/"+t})}function c(){return Object(l["a"])({url:"/category"})}},d825:function(t,e,a){"use strict";a("ed5a")},ed5a:function(t,e,a){}}]);
//# sourceMappingURL=chunk-7bce5885.d5e80043.js.map